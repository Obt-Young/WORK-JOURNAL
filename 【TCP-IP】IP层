
#1  如果发生某种错误时，如某个路由器暂时用完了缓冲区， I P有一个简单的错误处理算法：丢弃该数据报，然后发送I C M P消息报给信源端

#2  从前面有关以太网帧的介绍，IP头是20个字节，下面对这20个字节做一下细分：
        
          版本（4bit）  | IP首部长度（4bit）|  服务类型TOS值（8bit）| ip packet的总长度=IP首部+TCP segment（16位）            ---->类型和长度
          标识（16bit）                                           |  标志（3bit）  | 偏移（13bit）                          ---->分片和重组
          TTL （8bit）  |   协议（8bit）                          |  IP头校验和（16bit）
          源IP地址（32bit）
          目的IP地址（32bit）
          
          * 注 ：高位在左边，低位在右边
                 IP首部长度 = IP头 + 任意长度的选项
                 （IP头的长度是一定的，任意长度选项的长度可变，但是范围受限，因为IP首部4bit只能表示60个字节）
          
#3  服务类型TOS值：一共8bit，其中有4个bit被忽略，只用剩下的那4个bit，这4个bit作为位图，每一个bit位都表示不同的含义，分别是
                  使用最小延迟传输、使用最大吞吐量传输、使用最高可用性传输、使用最小费用传输。
           *注 ： 对于不同的协议（FTP,SMTP,TCP,UDP,DNS等等），IP头中的这个字段都有一个默认最佳值，这也是根据各个协议的特性给出的默认值

#3  ip packet的总长度 = IP首部 + TCP segment = IP 头 + 选项 + TCP segment
        IP总长度字段为16位，因此一个送给链路层的IP packet的最大长度为65535个字节，这也是前面提到的超通道的最大MTU

#4  标识：唯一地标识主机发送的每一分ip packet，每发送一个，就加1，在分片和重组的时候会介绍这个

#5  TTL：ip packet可以经过最多的路由器“个数”，这是一个设置好以后逐次递减的值，每经过一个路由器，这个值都要减1，当减到0，包被抛弃，同时发送ICMP报文通知
          源IP地址。（那ICMP是不是不会被抛弃，一定会送达？）
        （可以通过修改路由器上的IP协议层，让这个值不减，这样就可会导致包不会被抛弃）
        
#6  IP头校验和：通过一个计算方法（blabla.....），获得一个值附加在这里，对端收到以后会校验，如果校验不通过，那么这个包会被当做错包抛弃，但是不同于TTL
                的处理，被抛弃时，不会发送差错报文（ICMP）给源IP地址，由上层应用来决定怎么做。
         （相当于在应用层判断处理方法，先把包拿下来，说明这个包已经正确送达，后面发现校验字段错了，那么有应用层决定是否相信这个校验字段错误的数据包）
         
#7  一般情况下，IP层会受到的数据来自于两个入口：1）本机上层封装的，要使用IP协议发送出去的数据，比如来自tcp，udp，icmp，igmp等的数据segment。
                                            2）
          
