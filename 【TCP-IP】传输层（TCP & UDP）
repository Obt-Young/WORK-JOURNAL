IP数据包  和  IP packet的关系：IP数据包是指应用数据，这个数据可能会很大，需要分片，所以一个数据包大于等于一个packet，一个packet指一个
                             Frame中的应用数据部分，所以一个packet 等于 一个fragment

=======================================UDP==============================================
#1  NFS使用UDP协议
#2  UDP协议头中的校验和字段，可填可不填，具体要看协议是否开启此功能，校验和主要用来确认数据包是否被篡改
#3  可以使用tcpdump查看校验和，如果校验和为0，则代表关闭了校验和功能
#4  （！）尽量避免使用分片(送给IP的应用数据不要超过MTU)  ----  如果某个IP数据包（不是packet，）的fragment其中一个在传输中丢失了，那么整个数据包
          都要重传！
#5  一个IP数据被分片传输后，有可能在到达对端时在时间上是失序的，但是IP头中有序列，所以没关系，还是能被正确组装起来
#6  DNS TFTP BOOTP SNMP 协议都使用UDP协议作为底层


=======================================TCP==============================================
#1  TCP提供面向连接可靠的数据“流”服务，应用数据被分割成TCP认为最合适发送的数据块大小进行发送，这个数据块称为“segment”
#2  当TCP发送一个segment后，它启动一个定时器，等待目的端回应确认收到报文的应答。如果超时未收到，则重发此segment。在收到对端的应答后，本端在等待
    零点几秒（认为要求）后，再发送一个确认segment给对端。
#3  TCP头中有一个校验和字段，如果这个值不正确，则认为此segment有问题，当做废包，等待对端的超时重发
#4  对于失序到达的segment，TCP会重新组装成正确的顺序，再呈现给应用层。
#5  IP packet可能会出现重复，那么TCP就应当有一个丢弃重复数据的机制，很幸运，是有的。
#6  TCP有流量控制机制，TCP连接的每一方都有固定大小的缓冲空间。TCP只允许另一端发送接收缓冲区所能容纳的数据。（这个协商过程是怎么做的？？？）

#7      TCP头：
                                      源端口号       |       目的端口号
                                      （16bit）      |        （16bit）
                                                 序号（32bit）
                                               确认序号（32bit）
   首部长度（4bit）|reserve（6bit）|UGR|ACK|PSH|RST|SYN|FIN|        窗口大小（16bit）
                                   校验和（16bit）         |       紧急指针（16bit）
                                                  可选字段(nbit)
                                   
#8  32bit的需要用来标识发端向收端发送的字节的编号，比如两个segment，第一个segment有100个字节，那么第二个segment的序号域为101。范围0~（2^32）-1,满后归0

#9  U R G 紧急指针（ u rgent pointer）有效。
    A C K 确认序号有效。
    P S H 接收方应该尽快将这个报文段交给应用层。
    R S T 重建连接。
    S Y N 同步序号用来发起一个连接。这个标志和下一个标志将在第1 8章介绍。
    F I N 发端完成发送任务。
    
#10 T C P的流量控制由连接的每一端通过声明的窗口大小来提供。窗口大小为字节数，起始于确认序号字段指明的值，这个值是接收端正期望接收的字节。窗口大小是
    一个16 bit字段，因而窗口大小最大为6 5 5 3 5字节
    
#11 校验和由TCP segment（TCP头+TCP数据）求得。

#12 U R G 紧急指针（ u rgent pointer），此为一个“字节偏移量”，和序号字段相加标识紧急数据最后一个字节的序号。

#13 可选字段：1）MSS，在双方做SNY时才会添加，用来告知对方自己能接受的最大的segment大小（解释了#6中的疑问）
             2）其他见下文
    
    小结：TCP每个segement大小都是一致的？（除了最后一个segment？）
    
    
#14 18.2















